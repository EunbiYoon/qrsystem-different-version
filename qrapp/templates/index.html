<html>
<head>
    {% load static %}
    <script src="{% static 'cdn/html5-qrcode.min.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/style4.css' %}"> 
</head>
<body>
    <div class="data-div">
        <h1>Scanning Result</h1>
        <a href="{% url 'review_url'%}">Review</a>
    </div>

    <div class="read-div">
        <h1>QR Code Scanner</h1>
        <div id="reader"></div>
        <div id="result"></div>
        <script>
            const scanner= new Html5QrcodeScanner('reader',{
                qrbox:{
                    width:250,
                    height:250,
                },
                fps:20,
            });
            scanner.render(success, error);
            function success(result) {
                document.getElementById('result').innerHTML = `
                <h2>Success!</h2>
                <p><a href="${result}">${result}</a></p>
                `;
    
                // scanner.clear();
    
                // // document.getElementById('reader').remove();
            }
            function error(err){
                console.error(err);
            }
        </script>
    </div>

    <div class="gen-div">
        <script src="{% static 'js/scan.js' %}"></script>
        <h2 align="center">QR Code Generator</h2>
        <center><img src="" id="img"></center>
        <select id="size">
            <option value="100">100x100</option>
            <option value="150">150x150</option>
            <option value="200">200x200</option>
            <option value="250" selected>250x250</option>
            <option value="300">300x300</option>
        </select>
        <br/><br/>
        <textarea placeholder="Enter Your Text" id="qrtext"></textarea>
        <br/><br/>
        <input type="submit" value="Generate" onclick="genQR()">
    </div>
    <div class="footer">
        <p>Developed By Eunbi Yoon</p>
    </div>

</body>
</html>
